<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
</head>

<body>
    Puzzle: <input type="text" id="puzzle" value="sq1"> <br>
    Stage: <input type="text" id="stage" value="full"> <br>
    Transform: <input type="text" id="transform" value="horizontal"> <br>
    Alg: <input type="text" id="alg" value=""> Invert:<input type="checkbox" id="invert"> <br>
    <button onclick="generate()"> Generate </button>
    <br><img style="height:20em" id="image" src="/generator?puzzle=sq1&amp;stage=full&amp;transform=horizontal&amp;alg=/">

    <script>
        var parameters = ["puzzle", "stage", "transform"]
        function addParameter(elementId) {
            var element = document.getElementById(elementId);
            return element.id + "=" + element.value;
        }

        function generate() {
            var source = "/generator?";

            for (var i = 0; i < parameters.length; i++) {
                source += addParameter(parameters[i]) + "&";
            }

            document.getElementById("invert").checked
                ? source += "case=" + document.getElementById("alg").value
                : source += addParameter("alg");

            document.getElementById("image").src = source;
        }
    </script>
</body>
</html>
